/*
---
name: Input
category: Foundations/Forms
tag: text
---
Basic inputs to build forms.

```html
<input name="test" placeholder="This is a test" />
```
*/
input,
select,
textarea {
  margin: margin('small') 0 margin('normal');
  padding: 0 padding('normal');
  font-size: type-scale('normal');
  border-radius: $spacing-border-radius;
  border: 1px solid color('light');
  width: 100%;
}

// We need to set a fixed height because select doesn't allow `padding`
input,
select {
  height: su(1.5);
  // I must use line-height to center the elements to display it correctly in Firefox
  line-height: su(1.5);
}

// Update the outline
textarea:focus,
input:focus,
select:focus {
  outline: none;
  border-color: color-level('accent', 300);
  box-shadow: inset 0 1px 1px rgba(color('dark'), .01),
    0 0 6px rgba(color('accent'), .1);
}

/*
---
name: Select
category: Foundations/Forms
tag: text
---
Selectors are a bit different in Safari. We can't remove the gloss effect without using the
`-webkit-appareance` hack.

```html
<select name="test">
  <option>Select one element</option>
  <option>Option 1</option>
  <option>Option 2</option>
  <option disabled>Option 3</option>
</select>
```
*/
select {
  background-color: color('white');
}

/*
---
name: Textarea
category: Foundations/Forms
tag: text
---
```html
<textarea>
This is a test
</textarea>
```
*/
textarea {
  padding: padding('normal');
  // Set the font family to display it in Firefox
  font-family: $type-body;
  // By default, don't allow users to resize it horizontally
  resize: vertical;
  // Set a base height to prevent problems with vertical rhythm
  min-height: su(5);
}

/*
---
name: Labels
category: Foundations/Forms
tag: text
---
```html
<label for="test">Label for input</label>
<input name="check" id="test" placeholder="test" />
```
*/
label {
  cursor: pointer;
  font-size: type-scale('small');
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 1.1px;

  + label {
    margin-left: margin('normal');
  }

  &.checkbox,
  &.radio {
    text-transform: none;
    font-size: type-scale('normal');
    font-weight: normal;

    span {
      display: inline-block;
      margin-left: margin('small');
    }

    input:disabled + span {
      opacity: .7;
    }
  }
}

/*
---
name: Checkbox
category: Foundations/Forms
tag: text
---
```html
<label for="check1" class="checkbox">
  <input type="checkbox" name="check1" id="check1" />
  <span>Test</span>
</label>
<label for="check2" class="checkbox">
  <input type="checkbox" name="check2" id="check2" disabled />
  <span>Disabled</span>
</label>
```
*/
/*
---
name: Radio
category: Foundations/Forms
tag: text
---
```html
<label for="test1" class="radio">
  <input type="radio" name="test" id="test1"/>
  <span>Test 1</span>
</label>
<label for="test2" class="radio">
  <input type="radio" name="test" id="test2"/>
  <span>Test 2</span>
</label>
<label for="test3" class="radio">
  <input type="radio" name="test" id="test3"/>
  <span>Test 3</span>
</label>
<label for="test4" class="radio">
  <input type="radio" name="test" id="test4" disabled/>
  <span>Disabled</span>
</label>
```
*/
// scss-lint:disable QualifyingElement
input[type="checkbox"],
input[type="radio"] {
  display: inline-block;
  margin: 0 margin('small') 0 0;
  width: auto;
  height: auto;
  // Hack to align checkbox and labels in Chrome and Firefox
  vertical-align: 1px;
}
// scss-lint:enable QualifyingElement

/**
 * This is the second part of the hack. Safari display the checkbox well so
 * we need to reset the value for Safari. This only affects to Safari 7+.
 * For Safari < 7, the checkbox and radio buttons will be showed 1px above the
 * center.
 *
 * If we don't use this hack, all checkboxes and radio buttons will be misaligned
 * in all versions of Firefox and Chrome. CSS is beatiful...
 */
// scss-lint:disable QualifyingElement
_::-webkit-full-page-media,
_:future,
:root input[type="checkbox"],
input[type="radio"] {
  vertical-align: baseline;
}
// scss-lint:enable QualifyingElement

/*
---
name: Buttons
category: Foundations/Forms
tag: text
---
```html
<button class="button">Submit</button>
<a class="button">Link button</a>
<button class="button" disabled="disabled">Disabled</button>
```
*/
// To avoid incompatibilities with the current implementation, I'm going to comment the button selector
// button,
.button {
  // Display correctly non buttons elements like anchors
  display: inline-block;
  padding: padding('small') padding('normal');
  font-size: type-scale('normal');
  border-radius: $spacing-border-radius;
  border: 1px solid color-level('iron', 600);
  cursor: pointer;
  height: su(1.5);
  // Align elements in the same line
  vertical-align: bottom;
  // Remove text decoration on links
  text-decoration: none;
  color: color('text');
  // Fix button content when the screen is small
  max-width: 100%;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  // Default skin
  background-color: color-level('iron', 400);

  &:hover {
    background-color: lighten(color-level('iron', 600), 5%);
    border-color: color-level('iron', 700);
    color: initial;
  }

  // Show an inset shadow on click
  &:focus {
    outline: 0;
  }

  &:active {
    background-color: color-level('iron', 600);
    box-shadow: inset 1px 1px 2px rgba(color('dark'), .25);
  }

  // Set the correct cursor on disabled
  &[disabled="disabled"],
  &[disabled="true"] {
    cursor: not-allowed;
    opacity: .7;

    &:hover {
      background-color: color-level('iron', 400);
      border-color:  color-level('iron', 600);
    }
  }

  // Add a margin on consecutive elements
  + .button,
  + button {
    margin-left: margin('small');
  }
}
