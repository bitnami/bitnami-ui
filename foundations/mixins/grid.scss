/**
 * Grid mixins
 *
 * NOTE: This is an internal function. It shouldn't be documented
 */

/**
 * Generate a collapse property for a given prefix
 */
@mixin grid-collapse-on-prefix($breakpoint) {
  &.collapse-#{$breakpoint} {
    @include grid-collapse();
  }
}

@mixin grid-collapse() {
  > [class^="col"] {
    flex: 0 0 100%;
    margin-top: $grid-gutter;

    &:first-child {
      margin-top: 0;
    }
  }
}

/**
 * Generate a collapse property for a given prefix
 */
@mixin grid-collapse-by-columns-on-prefix($columns, $breakpoint) {
  &.collapse-#{$columns}-#{$breakpoint} {
    @include grid-collapse-by-columns-on($columns)
  }
}

@mixin grid-collapse-by-columns-on($columns) {
  > [class^="col"] {
    flex: 0 0 ($grid-columns / $columns) * (100% / $grid-columns);
    margin-top: $grid-gutter;

    &:nth-child(-n+#{$columns}) {
      margin-top: 0;
    }
  }
}
